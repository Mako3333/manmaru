MVP後の対応
================

この問題は、MVPリリース後のリファクタリング・改善フェーズにおける優先度の高いタスクとして、課題管理ツールに正式に登録してください。

解決策の検討
-------------

MVP後に、以下のいずれか、または組み合わせによる根本解決を目指します。

### 共通の型ガード関数/ユーティリティ

context.params を受け取り、期待するパラメータ（例: id）が存在し、string 型であることを検証して返すような関数を作成し、各APIルートで利用する。

### ミドルウェア/ハンドラーラッパーの改善

withAuthAndErrorHandling のようなラッパー関数で、リクエストパスに基づいて context.params の型をより具体的に推論または検証する仕組みを導入する（例: Zod スキーマでパスパラメータも検証する）。

### Next.js の将来的な改善

Next.js 自体の型定義が将来的に改善され、より型安全なパラメータアクセスが可能になる可能性も注視します。