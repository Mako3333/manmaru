# 画面フロー設計

## 概要
ユーザーの操作フローを定義し、アプリケーションの基本的な画面遷移を示す。

## 認証フロー
```
ログイン画面 → [初回] → プロフィール設定 → ホーム画面
           → [2回目以降] → ホーム画面
```

## メインフロー
```
ホーム画面 → 食事記録 → 食事分析結果
         → 栄養ダッシュボード
         → レシピ提案 [未実装]
         → プロフィール編集
```

## 食事記録フロー
```
食事記録画面 → 写真撮影/選択 → AI解析中 → 食品リスト編集 → 保存 → 栄養分析結果
```

## 詳細フロー

### 1. 認証フロー [実装済み]
- **ログイン画面**
  - メールアドレス入力
  - ログインボタン
  - 新規登録リンク
- **新規登録画面**
  - メールアドレス入力
  - 登録ボタン
- **プロフィール設定画面**
  - 年齢入力
  - 妊娠週数入力
  - 身長入力
  - 体重入力
  - 家族構成入力
  - 保存ボタン

### 2. 食事記録フロー [実装済み]
- **食事記録画面**
  - 食事タイプ選択（朝食/昼食/夕食/間食）
  - 写真撮影/アップロードボタン
  - 写真プレビュー
  - 解析ボタン
- **食品リスト編集画面**
  - 検出された食品リスト（編集可能）
  - 食品追加ボタン
  - 飲み物追加ボタン
  - サプリメント追加ボタン
  - 共食人数設定
  - 保存ボタン
- **栄養分析結果画面**
  - 栄養素サマリー
  - 食事内容概要
  - ホームに戻るボタン

### 3. 栄養ダッシュボードフロー [実装中]
- **ダッシュボード画面**
  - 日付選択
  - 栄養素達成率グラフ
  - 食事記録サマリー
  - AIアドバイス [未実装]
  - 詳細ボタン
- **栄養詳細画面**
  - 栄養素ごとの詳細データ
  - 食事ごとの内訳
  - 推奨摂取量との比較

### 4. レシピ提案フロー [未実装]
- **レシピ提案画面**
  - 不足栄養素表示
  - おすすめレシピリスト
  - レシピ詳細リンク
- **レシピ詳細画面**
  - レシピ画像
  - 材料リスト
  - 調理手順
  - 栄養情報
  - 外部リンク

### 5. AIアドバイスフロー [未実装]
- **日次アドバイス表示**
  - 栄養バランスの評価
  - 改善提案
  - アクションアイテム
- **食事ごとのアドバイス**
  - 食事内容の評価
  - 次回の改善点
  - 具体的な食品提案

## エラーフロー
- **ネットワークエラー**
  - エラーメッセージ表示
  - 再試行ボタン
- **画像解析エラー**
  - エラーメッセージ表示
  - 手動入力への切り替え
- **認証エラー**
  - エラーメッセージ表示
  - ログイン画面への誘導

## 実装状況サマリー
- 実装済み：認証フロー、食事記録フロー
- 実装中：栄養ダッシュボードフロー
- 未実装：レシピ提案フロー、AIアドバイスフロー
