# MVP実装計画会議レポート

## 会議概要
- **日時**: 2025年2月22日 10:00-12:00
- **参加者**: 開発チーム全員
- **議題**: MVPの技術選定と実装計画の最終決定

## 主要決定事項

### 1. 技術スタックの最終決定

#### フロントエンド
- **フレームワーク**: Next.js 15（App Router）
- **UIライブラリ**: shadcn/ui + Tailwind CSS
- **状態管理**: React Context + Zustand

#### バックエンド
- **認証/データベース**: Supabase
- **ストレージ**: Supabase Storage
- **API**: Next.js API Routes

#### AI/ML
- **画像解析**: Gemini 2.0 Flash
- **レシピ生成**: LangChain.js + Gemini API
- **栄養分析**: カスタムRAG実装（JSON栄養データベース）

### 2. 実装アプローチの変更点

- ~~Python + LangGraph~~から**LangChain.js + Gemini API**に変更
  - 理由: 開発速度の向上、単一スタックでの実装、デプロイ簡素化
  - メリット: Next.jsアプリ内で完結、追加サーバー不要

- 画像解析に**Gemini 2.0 Flash**を採用
  - 理由: 高精度な食品認識能力、日本語対応、コスト効率

- データベース設計の最適化
  - JSONBカラムを活用した柔軟なデータ構造
  - 将来の拡張を考慮したER設計

### 3. UI/UXの方針

- モバイルファーストのレスポンシブデザイン
- ステップ形式のユーザーフロー（特に食事記録）
- データビジュアライゼーションの積極活用
- ボトムナビゲーションによる主要機能へのアクセス

## 更新されたドキュメント

1. **`mvp_requirements.md`**
   - アプリの目的とゴールを明確化
   - Gemini 2.0 Flashの採用を明記
   - LangChain.jsによるレシピ生成を追加

2. **`db_design.md`**
   - ER図を追加してテーブル間の関係を視覚化
   - JSONBデータ構造の詳細化

3. **`screen_flow.md`**
   - 画面遷移フローの最適化
   - エラーフローの追加

4. **`ui_layout.md`**
   - 完全リニューアル
   - 現状の確認と課題の明確化
   - 各画面の詳細なUI設計
   - モバイル最適化のポイント追加

5. **`implementation_steps.md`**
   - LangChain.js + Gemini APIを使用した実装に変更
   - コード例の追加
   - デプロイ戦略の明確化

## 次のステップ

1. **Day 1 (2/23)**: 
   - Supabaseプロジェクト設定
   - テーブル作成とRLSポリシー設定
   - LangChain.js + Gemini APIの連携テスト

2. **Day 2-3 (2/24-25)**:
   - 食事記録機能の実装
   - 画像解析APIの実装

3. **Day 4-5 (2/26-27)**:
   - 栄養ダッシュボードの実装
   - 日次栄養集計ロジックの実装

4. **Day 6 (2/28)**:
   - 献立提案機能の実装

5. **Day 7 (3/1)**:
   - 全体調整とテスト
   - 初期デモデータの投入

## 懸念事項と対策

1. **Gemini APIの応答速度**
   - 対策: フロントエンドでの適切なローディング表示
   - 対策: 解析中のユーザーエクスペリエンス最適化

2. **栄養データの精度**
   - 対策: 初期MVPでは限定的な食品データベースに集中
   - 対策: ユーザー編集機能で補完

3. **モバイル対応**
   - 対策: 実機テストの徹底
   - 対策: PWA対応による疑似ネイティブ体験の提供

## まとめ

今回の会議で、MVPの実装計画が最終決定しました。LangChain.js + Gemini APIを活用することで、開発効率を高めつつ、高品質な食事解析と栄養管理機能を実現します。1週間の集中開発で、3/1までにMVPを完成させる予定です。 